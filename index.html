<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DuoUp - Social Gaming</title>
<!-- DuoUp Icon -->
<link rel="icon" type="image/png" href="https://i.imgur.com/3UQx9gR.png">

<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
:root {
  --duoup-primary: #00FFFF;
  --duoup-secondary: #FF5733;
  --duoup-accent: #8A2BE2;
  --duoup-dark: #050510;
  --duoup-light: #F0F8FF;
  --duoup-muted: #80809C;
  --font-main: 'Rajdhani', sans-serif;
  --font-header: 'Orbitron', sans-serif;
  --status-online: #38A169;
  --status-offline: #E53E3E;
}

body { 
    margin:0; 
    font-family: var(--font-main); 
    background: var(--duoup-dark) !important;
    color: var(--duoup-light); 
    min-height:100vh;
}

h1,h2,h3 { font-family: var(--font-header); margin:0; color: var(--duoup-light); }
h2 { 
    border-bottom: 2px solid var(--duoup-secondary); 
    padding-bottom:5px; 
    margin-bottom:20px; 
    font-size:1.8em; 
    background: linear-gradient(90deg, var(--duoup-primary), var(--duoup-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

a { color: var(--duoup-primary); text-decoration:none; }
a:hover { text-shadow: 0 0 8px var(--duoup-primary); }

button { cursor:pointer; border:none; border-radius:5px; transition: background 0.2s, transform 0.1s; }

/* Header */
header { 
    position: fixed; top:0; width:100%; height:60px; 
    background: rgba(20,20,38,0.98);
    display:flex; align-items:center; justify-content:space-between; 
    padding:0 15px; z-index:1000; 
    border-bottom:3px solid var(--duoup-secondary);
}
header .logo { display:flex; align-items:center; gap:10px; }
header h1 { 
    font-size:2em; font-weight:700; 
    text-shadow:0 0 10px var(--duoup-primary), 0 0 20px var(--duoup-accent), 0 0 30px var(--duoup-secondary);
}
header h1 span { 
    color: var(--duoup-secondary); 
    text-shadow:0 0 5px var(--duoup-secondary), 0 0 15px rgba(255,87,51,0.6); 
}
header nav { display:flex; align-items:center; gap:15px; flex-wrap:wrap; }
#logoutBtnHeader { 
    background: var(--duoup-secondary); 
    color: var(--duoup-dark); 
    padding:6px 12px; 
    font-weight:bold; 
    display:flex; align-items:center; gap:5px; 
}

/* Auth Forms */
#auth-section { 
    display:flex; flex-direction:column; 
    align-items:center; justify-content:center; 
    min-height:100vh; padding-top:60px;
    background: var(--duoup-dark) !important;
}

form { 
    display:flex; flex-direction:column; 
    background:#141426; padding:25px; border-radius:12px; 
    margin:10px; width:90%; max-width:360px; 
    box-shadow:0 5px 15px rgba(0,0,0,0.6);
}
input, textarea { 
    margin:8px 0; padding:12px; border-radius:6px; 
    border: 1px solid #3A3A52; background:#2D2D44; 
    color:var(--duoup-light); font-family: var(--font-main); 
}
textarea { resize:none; min-height:80px; }

button { 
    margin-top:10px; padding:12px; font-weight:bold; 
    background: linear-gradient(90deg, var(--duoup-primary), var(--duoup-accent));
    color: var(--duoup-dark); text-transform: uppercase;
    box-shadow: 0 2px 5px rgba(138,43,226,0.5);
    transition:0.3s;
}
button:hover { 
    background: linear-gradient(90deg, var(--duoup-accent), var(--duoup-secondary)); 
    transform: translateY(-2px); 
    box-shadow:0 4px 15px rgba(138,43,226,0.6);
}
.google-btn { 
    background: linear-gradient(90deg, #DB4437, #EA4335); 
    color:white; width:90%; max-width:360px; 
    display:flex; align-items:center; justify-content:center; gap:10px; 
    margin-top:15px; 
}
.google-btn:hover { 
    background: linear-gradient(90deg, #EA4335, #DB4437); 
    transform: translateY(-2px);
}

/* App Containers */
.container { max-width:1200px; margin:20px auto; padding:0 15px; width:100%; }
.results-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; width:100%; }

/* Duo Cards */
.duo-card { 
    background: linear-gradient(145deg, #1A1A2E, #2D2D44); 
    color: var(--duoup-light); border-radius:12px; 
    overflow:hidden; border:1px solid #3A3A52; 
    transition:.3s; box-shadow:0 4px 8px rgba(0,0,0,0.4);
}
.duo-card:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 0 15px var(--duoup-primary), 0 12px 25px rgba(0,255,255,.4), 0 0 20px var(--duoup-accent);
    border-color: var(--duoup-accent);
}
.card-header { display:flex; align-items:center; padding:10px 15px; border-bottom:1px solid #3A3A52; }
.avatar { 
    width:50px;height:50px; border-radius:50%; display:flex; 
    align-items:center; justify-content:center; font-weight:bold; margin-right:15px; 
    background: var(--duoup-secondary); color: var(--duoup-dark); 
    font-family: var(--font-header); font-size:1.5em; border:2px solid var(--duoup-primary); overflow:hidden;
    box-shadow: 0 0 10px var(--duoup-primary);
}
.avatar img { width:100%; height:100%; object-fit:cover; border-radius:50%; }
.bio { padding:10px 15px; font-size:0.9em; color: var(--duoup-muted); }
.action-button { 
    width:100%; padding:12px; 
    background: linear-gradient(90deg, var(--duoup-primary), var(--duoup-accent));
    color: var(--duoup-dark); font-weight:bold; border-radius:0 0 12px 12px; text-transform: uppercase;
}
.duo-request-card { border-top:5px solid var(--duoup-secondary); }

/* Chat Modal */
.modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:2000; }
.chat-container { width:90%; max-width:420px; height:80%; background:#141426; border-radius:12px; display:flex; flex-direction:column; }
.chat-header { padding:10px 15px; background:#1A1A2E; display:flex; justify-content:space-between; align-items:center; border-bottom:3px solid var(--duoup-primary); color: var(--duoup-light);}
.status-dot.online { background: var(--status-online); width:8px;height:8px;border-radius:50%; margin-right:8px; }
.status-dot.offline { background: var(--status-offline); width:8px;height:8px;border-radius:50%; margin-right:8px; }
.message-area { flex:1; padding:10px; overflow-y:auto; }
.message { max-width:80%; margin-bottom:10px; }
.message.self { margin-left:auto; }
.message-content { padding:8px 12px; border-radius:12px; }
.message.other .message-content { background: linear-gradient(135deg, #2D2D44, #3A3A52); color:white; }
.message.self .message-content { background: linear-gradient(135deg, var(--duoup-primary), var(--duoup-accent)); color: var(--duoup-dark); }
.chat-input-area { display:flex; padding:10px; gap:5px; }
.chat-input { flex:1; padding:10px; border-radius:6px; border:none; background:#2D2D44; color:white; }
.send-button { padding:10px 15px; border:none; background: linear-gradient(90deg, var(--duoup-primary), var(--duoup-accent)); color: var(--duoup-dark); font-weight:bold; border-radius:6px; }
@media(max-width:500px){ header h1 { font-size:1.6em; } .results-grid { grid-template-columns:1fr; } }
</style>
</head>
<body>

<header style="display:none;" id="mainHeader">
  <div class="logo">
    <img src="https://i.imgur.com/3UQx9gR.png" alt="DuoUp" width="40" style="border-radius:8px;"/>
    <h1>DUO<span>UP</span></h1>
  </div>
  <nav>
    <a href="#" onclick="showSection('home')">Duo Search</a>
    <a href="#" onclick="showSection('profile')">Profile</a>
    <a href="#" onclick="showSection('messages')">Messages</a>
    <button id="logoutBtnHeader"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </nav>
</header>

<div id="auth-section">
  <h2>Welcome to DuoUp</h2>
  <form id="signin">
    <h3>Sign In</h3>
    <input id="signin-email" type="email" placeholder="Email" required>
    <input id="signin-password" type="password" placeholder="Password" required>
    <button type="submit">Sign In</button>
  </form>

  <form id="signup">
    <h3>New Player? Sign Up</h3>
    <input id="signup-email" type="email" placeholder="Email" required>
    <input id="signup-password" type="password" placeholder="Password" required>
    <button type="submit">Create Account</button>
  </form>

  <button class="google-btn">
    <i class="fab fa-google"></i> Continue with Google
  </button>
</div>

<div id="app-section" style="display:none; width:100%; padding-top:60px;">
  <div id="home-section" class="container">
    <h2>Duo Search (Available Players)</h2>
    <div class="results-grid" id="usersGrid"></div>
  </div>
  <div id="profile-section" class="container" style="display:none;">
    <h2>Profile Management</h2>
    <input class="profile-field" id="profile-username" placeholder="Username">
    <input class="profile-field" id="profile-platform" placeholder="Platform">
    <input class="profile-field" id="profile-games" placeholder="Games">
    <input class="profile-field" id="profile-playstyle" placeholder="Playstyle">
    <textarea class="profile-field" id="profile-about" placeholder="About Me"></textarea>
    <input type="file" id="profile-photo">
    <button onclick="updateProfile()">Save Profile</button>
  </div>
  <div id="messages-section" class="container" style="display:none;">
    <h2>Messages & Duo Requests</h2>
    <div id="messages-container" class="messages-container">
      <h3>Pending Requests</h3>
      <div class="results-grid" id="requestsGrid"></div>
      <h3>Your Accepted Duos (Click to Chat)</h3>
      <div class="results-grid" id="duosGrid"></div>
    </div>
  </div>
</div>

<div id="chatModal" class="modal">
  <div class="chat-container">
    <div id="chatHeader" class="chat-header"></div>
    <div id="messageArea" class="message-area"></div>
    <div class="chat-input-area">
      <input id="chatInput" class="chat-input" placeholder="Type message">
      <button class="send-button" onclick="sendMessage()">Send</button>
      <span onclick="closeChat()" style="cursor:pointer; padding: 10px; color: var(--duoup-light);"><i class="fas fa-times"></i></span>
    </div>
  </div>
</div>

<script type="module">
// Your existing Firebase code goes here (unchanged from your provided code)
</script>

</body>
</html>
